
<!--
  $Xorg: makestrs.man,v 1.4 2001/02/09 02:03:17 xorgcvs Exp $
   Copyright (c) 1993, 1994, 1998 The Open Group
   
   Permission to use, copy, modify, distribute, and sell this software and its
   documentation for any purpose is hereby granted without fee, provided that
   the above copyright notice appear in all copies and that both that
   copyright notice and this permission notice appear in supporting
   documentation.
   
   The above copyright notice and this permission notice shall be included in
   all copies or substantial portions of the Software.
   
   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL 
   THE OPEN GROUP BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, 
   WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF 
   OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE 
   SOFTWARE.
   
   Except as contained in this notice, the name of The Open Group shall not 
   be used in advertising or otherwise to promote the sale, use or other 
   dealing in this Software without prior written authorization from The
   Open Group.
   
   $XFree86: xc/config/util/makestrs.man,v 3.8 2001/12/14 19:53:22 dawes Exp $
   
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+XFree86, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>MAKESTRS(1) manual page</TITLE>
</HEAD>
<BODY BGCOLOR="#efefef" TEXT="black" LINK="blue" VLINK="#551A8B" ALINK="red">
<A HREF="#toc">Table of Contents</A><P>

<H2><A NAME="sect0" HREF="#toc0">Name</A></H2>
makestrs - makes string table C source and
header(s) 
<H2><A NAME="sect1" HREF="#toc1">Synopsis</A></H2>
<B>makestrs [-f source] [-abioptions ...]</B> 
<H2><A NAME="sect2" HREF="#toc2">Description</A></H2>
The <I>makestrs</I>
command creates string table C source files and headers. If <I>-f</I> <I>source</I> is
not specified <I>makestrs</I> will read from <I>stdin.</I> The C source file is always
written to <I>stdout.</I> <I>makestrs</I> creates one or more C header files as specified
in the source file. The following options may be specified: <I>-sparcabi,</I> <I>-intelabi,</I>
<I>-functionabi,</I> <I>-arrayperabi,</I> and <I>-defaultabi.</I> <P>
<I>-sparcabi</I> is used on SPARC platforms
conforming to the SPARC Compliance Definition, i.e. SVR4/Solaris. <P>
<I>-intelabi</I>
is used on Intel platforms conforming to the System V Application Binary
Interface, i.e. SVR4. <P>
<I>-earlyR6abi</I> may be used in addition to <I>-intelabi</I> for situations
where the vendor wishes to maintain binary compatiblity between X11R6 public-patch
11 (and earlier) and X11R6 public-patch 12 (and later). <P>
<I>-functionabi</I> generates
a functional abi to the string table. This mechanism imposes a severe performance
penalty and it's recommended  that you not use it. <P>
<I>-arrayperabi</I> results in
a separate array for each string. This is the default behavior if makestrs
was compiled with -DARRAYPERSTR (it almost never is). <P>
<I>-defaultabi</I> forces the
generation of the "normal" string table even if makestrs was compiled with
-DARRAYPERSTR. Since makestrs is almost never compiled with -DARRAYPERSTR
this is the default behavior if no abioptions are specified. 
<H2><A NAME="sect3" HREF="#toc3">Syntax</A></H2>
The syntax
for string-list file is (items in square brackets are optional): <blockquote>#prefix
&lt;text&gt; </blockquote>
<blockquote>#feature &lt;text&gt; </blockquote>
<blockquote>#externref &lt;text&gt; </blockquote>
<blockquote>#externdef [&lt;text&gt;] </blockquote>
<blockquote>[#ctempl &lt;text&gt;] </blockquote>
<P>
<blockquote>#file
&lt;filename&gt; </blockquote>
<blockquote>#table &lt;tablename&gt; </blockquote>
<blockquote>[#htempl] </blockquote>
<blockquote>&lt;text&gt; </blockquote>
<blockquote>
<!--
  
 
-->
</blockquote>
<blockquote>&lt;text&gt; </blockquote>
<blockquote>[#table &lt;tablename&gt; </blockquote>
<blockquote>&lt;text&gt; </blockquote>
<blockquote>
<!--
  


-->
</blockquote>
<blockquote>&lt;text&gt; </blockquote>
<blockquote> ...<BR>
 </blockquote>
<blockquote>#table &lt;tablename&gt; </blockquote>
<blockquote> ...]<BR>
 </blockquote>
<blockquote>[#file &lt;filename&gt; </blockquote>
<blockquote> ...]<BR>
 </blockquote>
<P>
In words you may have one or more #file directives. Each #file may have
one or more #table directives. <P>
The #prefix directive determines the string
that makestr will prefix to each definition. <P>
The #feature directive determines
the string that makestr will use for the feature-test macro, e.g. X[TM]STRINGDEFINES.
<P>
The #externref directive determines the string that makestr will use for
the extern clause, typically this will be "extern" but Motif wants it to
be "externalref" <P>
The #externdef directive determines the string that makestr
will use for the declaration, typically this will be the null string (note
that makestrs requires a trailing space in this case, i.e. "#externdef "),
and Motif will use "externaldef(_xmstrings). <P>
The #ctmpl directive determines
the name of the file used as a template for the C source file that is generated
<P>
Each #file &lt;filename&gt; directive will result in a corresponding header file
by that name containing the appropriate definitions as specified by command
line options. A single C source file containing the declarations for the
definitions in all the headers will be printed to stdout. <P>
The #htmpl directive
determines the name of the file used as a template for the C header file
that is generated. <P>
Each #table &lt;tablename&gt; directive will be processed in
accordance with the ABI. On most platforms all tables will be catenated
into a single table with the name of the first table for that file. To conform
to the Intel ABI separate tables will be generated with the names indicated.
<P>
The template files specified by the #ctmpl and #htmpl directives are processed
by copying line for line from the template file to the appropriate output
file. The line containing the string <I>&lt;&lt;&lt;STRING_TABLE_GOES_HERE&gt;&gt;&gt;</I> is not copied
to the output file. The appropriate data is then copied to the output file
and then the remainder of the template file is copied to the output file.

<H2><A NAME="sect4" HREF="#toc4">Bugs</A></H2>
makestrs is not very forgiving of syntax errors. Sometimes you need
a trailing space after # directives, other times they will mess you up.
No warning messages are emitted. 
<H2><A NAME="sect5" HREF="#toc5">See Also</A></H2>
SPARC Compliance Definition 2.2.,
SPARC International Inc., 535 Middlefield Road, Suite 210, Menlo Park, CA
94025 <P>
System V Application Binary Interface, Third Edition, ISBN 0-13-100439-5
UNIX Press, PTR Prentice Hall, 113 Sylvan Avenue, Englewood Cliffs, NJ
07632 <P>
System V Application Binary Interface, Third Edition, Intel386 Architecture
Processor Supplement ISBN 0-13-104670-5 UNIX Press, PTR Prentice Hall, 113
Sylvan Avenue, Englewood Cliffs, NJ 07632 <P>
System V Application Binary Interface,
Third Edition, SPARC Architecture Processor Supplement ISBN 0-13-104696-9
UNIX Press, PTR Prentice Hall, 113 Sylvan Avenue, Englewood Cliffs, NJ
07632 <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">Name</A></LI>
<LI><A NAME="toc1" HREF="#sect1">Synopsis</A></LI>
<LI><A NAME="toc2" HREF="#sect2">Description</A></LI>
<LI><A NAME="toc3" HREF="#sect3">Syntax</A></LI>
<LI><A NAME="toc4" HREF="#sect4">Bugs</A></LI>
<LI><A NAME="toc5" HREF="#sect5">See Also</A></LI>
</UL>
</BODY></HTML>
